# 基本フロー

ユーザーの行動         画面              システム処理
     │
     ├─1. アプリアクセス
     │                 ┌──────────┐
     │                 │トップ     │
     │                 │ページ     │
     │                 └──────────┘
     │                      │
     │                      │ 都道府県マスタ取得
     │                      │ (DB: prefectures)
     │                      ↓
     │                 47都道府県表示
     │
     ├─2. 東京都をクリック
     │                      │
     │                      ↓
     │                 ┌──────────┐
     │                 │ローディング│
     │                 └──────────┘
     │                      │
     │                      │ 1. DBから緯度経度取得
     │                      │ 2. Open-Meteo API呼び出し
     │                      │ 3. レスポンス受信
     │                      │ 4. DBに履歴保存
     │                      ↓
     │                 ┌──────────┐
     │                 │詳細ページ │
     │                 │(東京都)   │
     │                 └──────────┘
     │                      │
     │                      ├─現在の天気表示
     │                      └─週間予報表示
     │
     ├─3. 内容確認
     │
     └─4. 戻るボタンクリック
                            │
                            ↓
                       ┌──────────┐
                       │トップ     │
                       │ページ     │
                       └──────────┘
 
                       
---


# エラーフロー

ユーザーの行動         画面              システム処理
     │
     ├─1. 存在しないURLアクセス
     │                      │
     │                      ↓
     │                 ┌──────────┐
     │                 │404エラー  │
     │                 └──────────┘
     │                      │
     │                      ├─「ページが見つかりません」
     │                      └─「トップへ戻る」ボタン
     │
     └─2. トップへ戻るクリック
                            │
                            ↓
                       トップページ


別のエラーケース:
     │
     ├─1. 天気詳細ページアクセス
     │                      │
     │                      ├─Open-Meteo API呼び出し
     │                      ├─タイムアウト発生
     │                      ↓
     │                 ┌──────────┐
     │                 │500エラー  │
     │                 └──────────┘
     │                      │
     │                      ├─「天気情報の取得に失敗」
     │                      └─「トップへ戻る」ボタン
